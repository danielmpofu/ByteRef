{"version":3,"file":"senwes-senwes-authorization.js","sources":["ng://@senwes/senwes-authorization/lib/senwes_token_dev.ts","ng://@senwes/senwes-authorization/lib/senwes-authorization.service.ts"],"sourcesContent":["export const senwes_dev_token = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjA0NSIsIm5hbWVpZCI6IjA0NSIsImVtYWlsIjoiTXVoYW1tYWQuQW1vZEBzZW53ZXMuY28uemEiLCJnaXZlbl9uYW1lIjoiTXVoYW1tYWQiLCJmYW1pbHlfbmFtZSI6IkFtb2QiLCJvbmVpZCI6IjA0NSIsImVtcGxveWVlTm8iOiIxMDg5MSIsInJvbGUiOlsiRG9jdW1lbnRNYW5hZ2VtZW50X1N1cGVyVXNlciJdLCJ3aW5kb3dzdXNlcmNsYWltIjoibXVoYW1tYWRhIiwibmJmIjoxNTk3OTg4NTQwLCJleHAiOjE5MjIzOTk5OTksImlhdCI6MTU5Nzk4ODU0MCwiaXNzIjoiU2Vud2VzIEF1dGggU2VydmljZSIsImF1ZCI6IlNlbndlcyBBcHBsaWNhdGlvbiBVc2VycyJ9.krMb-5byqnJ1LwJpNv688mtGo4n6146h7_sKzHFiGx0`;","import { Injectable, isDevMode } from '@angular/core';\r\nimport { JwtModule, JwtHelperService } from '@auth0/angular-jwt';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { IUser } from './user.model';\r\nimport { take } from 'rxjs/operators';\r\nimport { senwes_dev_token } from './senwes_token_dev';\r\nimport { IEmployee } from './employee.model';\r\nimport { IPermission } from './permission.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SenwesAuthorizationService {\r\n  public base_url = window.location.origin;\r\n  public appId: string = '';\r\n  private _user: IUser;\r\n\r\n  public jwtHelper = new JwtHelperService();\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n  ) { }\r\n\r\n  /**\r\n   * Retrieves raw token from local storage\r\n   */\r\n  public getToken(): string {\r\n    if (isDevMode()) {\r\n      return localStorage.getItem(\"senwes_token_dev\");\r\n    }\r\n    return localStorage.getItem(\"senwes_token\");\r\n  }\r\n\r\n  /**\r\n   * Retrieves decoded token from local storage\r\n   */\r\n  public getDecodedToken(): any {\r\n    if (isDevMode()) {\r\n    return this.jwtHelper.decodeToken(localStorage.getItem(\"senwes_token_dev\"));\r\n    }\r\n    return this.jwtHelper.decodeToken(localStorage.getItem(\"senwes_token\"));\r\n  }\r\n\r\n  /**\r\n   * Confirms validity of token\r\n   */\r\n  public async authenticateToken(appId: string, customDevToken: string = null): Promise<boolean> {\r\n    return new Promise((resolve, reject) => {\r\n      if (isDevMode()) {\r\n          localStorage.removeItem('senwes_token_dev');\r\n\r\n          if (customDevToken != null) {\r\n            localStorage.setItem('senwes_token_dev', customDevToken);\r\n          } else {\r\n            localStorage.setItem('senwes_token_dev', senwes_dev_token);\r\n          }\r\n\r\n          resolve(true);\r\n          this.initializeUser();\r\n        } else {\r\n          this.appId = appId;\r\n          let url = '';\r\n          if (this.base_url.indexOf(\"online-qa.senwes.co.za\") > -1 || this.base_url.indexOf(\"online-qa.hinterland.co.za\") > -1 || this.base_url.indexOf(\"online-qa.my-intranet.co.za\") > -1) {\r\n            url = `https://wsstaging.senwes.co.za/api/oneagri/security/api/Authentication/Validate/Token`;\r\n          } else {\r\n            url = `https://ws.senwes.co.za/service/oneagri/security/api/Authentication/Validate/Token`;\r\n          }\r\n\r\n          const headers = new HttpHeaders({\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${this.getLocalToken()}`\r\n          })\r\n\r\n          this._http.get<boolean>(url, { headers: headers })\r\n            .pipe(take(1))\r\n            .subscribe(\r\n              (res: any) => {\r\n                if (res === false) {\r\n                  localStorage.removeItem('senwes_token');\r\n                  this.redirectJWTIssuerPage(appId);\r\n                  resolve(false);\r\n                } else if (res === true) {\r\n                  resolve(true);\r\n                  this.initializeUser();\r\n                } else {\r\n                  resolve(false);\r\n                  console.error('Unxpected response validate token: ', res);\r\n                  this.redirectAccessDenied();\r\n                }\r\n              },\r\n              error => {\r\n                reject(false);\r\n                console.error(\"AuthService unexpected error occurred\", error);\r\n                this.redirectAccessDenied();\r\n              });\r\n        }\r\n    });\r\n  }\r\n\r\n  private getLocalToken(): string {\r\n    let token = '';\r\n    if (isDevMode()) {\r\n      token = localStorage.getItem(\"senwes_token_dev\");\r\n    } else {\r\n      token = localStorage.getItem(\"senwes_token\");\r\n    }\r\n    return token;\r\n  }\r\n\r\n  private redirectJWTIssuerPage(returnURL: string) {\r\n    if (this.base_url.indexOf(\"online-qa.senwes.co.za\") > -1 || this.base_url.indexOf(\"online-qa.hinterland.co.za\") > -1 || this.base_url.indexOf(\"online-qa.my-intranet.co.za\") > -1) {\r\n      window.location.href = `https://integration-qa.senwes.co.za/service/security/oneagri/auth/authentication?ApplicationID=${this.appId}`;\r\n    } else {\r\n      window.location.href = `https://identity.oneagri.co.za/authentication?ApplicationID=${this.appId}`;\r\n    }\r\n  }\r\n\r\n  public signout() {\r\n    localStorage.removeItem('senwes_token');\r\n    localStorage.removeItem('senwes_token_dev');\r\n    if (isDevMode()) {\r\n      window.location.reload;\r\n    } else {\r\n      if (this.base_url.indexOf(\"online-qa.senwes.co.za\") > -1 || this.base_url.indexOf(\"online-qa.hinterland.co.za\") > -1 || this.base_url.indexOf(\"online-qa.my-intranet.co.za\") > -1) {\r\n        window.location.href = `https://integration-qa.senwes.co.za/service/security/oneagri/auth/signout`;\r\n      } else {\r\n        window.location.href = `https://identity.oneagri.co.za/signout`;\r\n      }\r\n    }\r\n  }\r\n\r\n  public home() {\r\n    if (isDevMode()) {\r\n      window.location.reload;\r\n    } else {\r\n      window.location.href = this.base_url;\r\n    }\r\n  }\r\n\r\n  private redirectAccessDenied() {\r\n    window.location.href = `http://www.oneagri.co.za/auth/accessdenied/`;\r\n  }\r\n\r\n  public getUserRoles(): Array<string> {\r\n    if (this._user) {\r\n      return this._user.role;\r\n    }\r\n  }\r\n\r\n  public isUserInRole(roleName: string): boolean {\r\n    if (this._user) {\r\n      if (Array.isArray(this._user.role)) {\r\n        const res = this._user.role.findIndex(x => x == roleName);\r\n        return (res !== -1);\r\n      } else {\r\n        return (roleName === this._user.role);\r\n      }\r\n    }\r\n  }\r\n\r\n  public getUserPermissionsBySystemName(filter: string): IPermission[] {\r\n    if (this._user) {\r\n      if (Array.isArray(this._user.permissions)) {\r\n        const res = this._user.permissions.filter(x => x.SystemName == filter);\r\n        return res;\r\n      }\r\n    }\r\n  }\r\n\r\n  public hasPermission(permissionGroup: string, permissionName: string): boolean {\r\n    if (this._user) {\r\n      if (Array.isArray(this._user.permissions)) {\r\n        const res = this._user.permissions.filter(x => x.PermissionGroup == permissionGroup && x.PermissionName == permissionName);\r\n        return res.length > 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  public getRawUserObject(): IUser {\r\n    return this._user;\r\n  }\r\n\r\n  public getUserWindowsClaim(): string {\r\n    if (this._user) {\r\n      return this._user.windowsuserclaim;\r\n    }\r\n  }\r\n\r\n  public getUserCompany(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.company;\r\n    }\r\n  }\r\n\r\n  public getUserDivision(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.division;\r\n    }\r\n  }\r\n\r\n  public getUserSection(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.section;\r\n    }\r\n  }\r\n\r\n  public getUserJobTitle(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.jobtitle;\r\n    }\r\n  }\r\n\r\n  public getUserEmpObfuscation(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.employeeobfuscation;\r\n    }\r\n  }\r\n\r\n  public getUserSite(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.site;\r\n    }\r\n  }\r\n\r\n  public getUserReportsTo(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.reportsTo;\r\n    }\r\n  }\r\n\r\n  public getUserDepartment(): string {\r\n    if (this._user.employee) {\r\n      return this._user.employee.department;\r\n    }\r\n  }\r\n\r\n  public getUserEmployeeNumber(): string {\r\n    if (this._user) {\r\n      return this._user.employeeNo;\r\n    }\r\n  }\r\n\r\n  public getUserOneId(): string {\r\n    if (this._user) {\r\n      return this._user.oneid;\r\n    }\r\n  }\r\n\r\n  public getUserDisplayName(): string {\r\n    if (this._user) {\r\n      return `${this._user.given_name} ${this._user.family_name}`\r\n    }\r\n  }\r\n\r\n  public getUserEmployeeInfo(): IEmployee {\r\n    if (this._user) {\r\n      return this._user.employee;\r\n    }\r\n  }\r\n\r\n  public getTokenExpired(): boolean {\r\n    this._user = this.jwtHelper.decodeToken(this.getToken());\r\n    if (this._user) {\r\n      return this._user.exp < Math.floor(Date.now() / 1000);\r\n    }\r\n  }\r\n\r\n  public initializeUser(): void {\r\n    this._user = this.jwtHelper.decodeToken(this.getToken());\r\n    if (typeof this._user.role !== 'undefined' && !Array.isArray(this._user.role)) {\r\n      this._user.role = [this._user.role];\r\n    }\r\n\r\n    if (typeof this._user.permissions !== 'undefined' && !Array.isArray(this._user.permissions)) {\r\n      this._user.permissions = [this._user.permissions];\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}
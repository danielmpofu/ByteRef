<div #container>
    <form [formGroup]="logisticsDetailForm" novalidate>

        <h3>Edit Order Details</h3>
        <hr>
        <div class="row">
            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                <small class="control-label required"><b>Order Number</b></small>
                <ejs-textbox formControlName="OrderNumber" placeholder="" maxlength="30" floatLabelType="Always"
                             [cssClass]="componentIsInvalid('OrderNumber','logisticsDetailForm') ? 'e-error': 'e-input'"></ejs-textbox>
                <span *ngIf="componentIsInvalid('OrderNumber','logisticsDetailForm')" class="e-error">
                <small *ngIf="logisticsDetailForm?.get('OrderNumber').hasError('required')">
                    Order Number is required
                </small>
            </span>
            </div>

            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                <small class="control-label required"><b>Logistics Status Number</b></small>
                <ejs-textbox formControlName="LogisticsStatus" placeholder="" maxlength="30" floatLabelType="Always"
                             [cssClass]="componentIsInvalid('LogisticsStatus','logisticsDetailForm') ? 'e-error': 'e-input'"></ejs-textbox>
                <span *ngIf="componentIsInvalid('LogisticsStatus','logisticsDetailForm')" class="e-error">
                <small *ngIf="logisticsDetailForm?.get('LogisticsStatus').hasError('required')"> Logistics Status is required  </small>
            </span>
            </div>


            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                <small class="control-label required"><b>Assigned To</b></small>
                <ejs-textbox formControlName="AssignedTo" placeholder="" maxlength="30" floatLabelType="Always"
                             [cssClass]="componentIsInvalid('AssignedTo','logisticsDetailForm') ? 'e-error': 'e-input'"></ejs-textbox>
                <span *ngIf="componentIsInvalid('AssignedTo','logisticsDetailForm')" class="e-error">
                <small *ngIf="logisticsDetailForm?.get('AssignedTo').hasError('required')">
                   Assigned To is required
                </small>
            </span>
            </div>


            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                <small class="control-label required"><b>Order Number</b></small>
                <ejs-textbox formControlName="TotalItems" placeholder="" maxlength="30" floatLabelType="Always"
                             [cssClass]="componentIsInvalid('TotalItems','logisticsDetailForm') ? 'e-error': 'e-input'"></ejs-textbox>
                <span *ngIf="componentIsInvalid('TotalItems','logisticsDetailForm')" class="e-error">
                <small *ngIf="logisticsDetailForm?.get('TotalItems').hasError('required')">
                    Order Number is required
                </small>
            </span>
            </div>

            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                <small class="control-label required"><b>Logistics Status Number</b></small>
                <ejs-textbox formControlName="DateUpdated" placeholder="" maxlength="30" floatLabelType="Always"
                             [cssClass]="componentIsInvalid('DateUpdated','logisticsDetailForm') ? 'e-error': 'e-input'"></ejs-textbox>
                <span *ngIf="componentIsInvalid('DateUpdated','logisticsDetailForm')" class="e-error">
                <small *ngIf="logisticsDetailForm?.get('DateUpdated').hasError('required')"> Logistics Status is required  </small>
            </span>
            </div>


            <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                <small class="control-label required"><b>Assigned To</b></small>
                <ejs-textbox formControlName="DateCreated" placeholder="" maxlength="30" floatLabelType="Always"
                             [cssClass]="componentIsInvalid('DateCreated','logisticsDetailForm') ? 'e-error': 'e-input'"></ejs-textbox>
                <span *ngIf="componentIsInvalid('DateCreated','logisticsDetailForm')" class="e-error">
                <small *ngIf="logisticsDetailForm?.get('DateCreated').hasError('required')">
                   Assigned To is required
                </small>
            </span>
            </div>

        </div>


        <div style="max-height: 310px!important; " class="mt-3 mb-3">
            <h3>Items in order</h3>
            <ejs-grid style="max-height: 300px!important;"
                      #eventGrid id="Grid"
                      [dataSource]="selectedOrder.Items"
                      height="300"
                      allowPaging="true"
                      allowFiltering="true"
                      allowSorting="false">
                <e-columns>

                    <e-column field="itemId" headerText="Item Id" textAlign="Left"
                              minWidth="100" width="180"
                              maxWidth="360">
                    </e-column>

                    <e-column field="name" headerText="Item Name" textAlign="Left" format="yMd"
                              minWidth="100" width="180"
                              maxWidth="360">
                    </e-column>

                    <e-column field="partNumber" headerText="Part Number" textAlign="Left" format="yMd"
                              minWidth="100" width="180"
                              maxWidth="360">
                    </e-column>

                    <e-column field="sku" headerText="Item SKU" textAlign="Left" format="yMd"
                              minWidth="100" width="180"
                              maxWidth="360">
                    </e-column>

                    <e-column field="description" headerText="Item Description" textAlign="Left" format="yMd"
                              minWidth="100" width="180"
                              maxWidth="360">
                    </e-column>


                    <e-column [template]="manageView" headerText="" width="220" allowFiltering="false">
                        <ng-template class="actions-container" #manageView let-data>
                            <ng-container>
                                <button id="manage-actions" ejs-dropdownbutton
                                        [items]="[ listOfEventOptions.edit,  listOfEventOptions.add, listOfEventOptions.remove ]"
                                        content="MANAGE / VIEW"
                                        (select)="eventOptionsHandler($event, data)"></button>
                            </ng-container>

                        </ng-template>
                    </e-column>
                </e-columns>
            </ejs-grid>
            <!--<nb-tab tabTitle="Form Example">
              <logistics-detail></logistics-detail>
            </nb-tab> -->


        </div>


        <div class='row mt-2'>
            <div class="col-md-12">
                <hr>
                <div class="float-right">
                    <button style='margin-left: 10px !important' size="small" nbButton status='warning'>
                        Scan
                    </button>

                    <button style='margin-left: 10px !important' size="small" nbButton status='danger'>
                        Delete Order
                    </button>

                    <button style='margin-left: 10px !important' size="small" nbButton status='success'>
                        Submit Changes
                    </button>
                </div>
            </div>
        </div>
    </form>

    <div *ngIf="isScanModalOpen">
        <nb-card title="Scan New Item">
            <ejs-dialog id='dialog'
                        #scanItemModal
                        isModal='true'
                        (overlayClick)="hideScanModal()"
                        [target]='targetElement'
                        width='80%'
                        height="80%">
                <scan-item-component></scan-item-component>
            </ejs-dialog>
        </nb-card>

    </div>
</div>